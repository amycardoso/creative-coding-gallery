---
import type { Sketch } from "../data/fetch-sketches";

interface Props {
  sketch: Sketch;
}

const { sketch } = Astro.props;
const detailUrl = `${import.meta.env.BASE_URL}${sketch.slug}/`;
---

<a href={detailUrl} class="card-link">
  <article class="card">
    <div class="card-media" style={`aspect-ratio:${sketch.width}/${sketch.height}`}>
      <img
        src={sketch.mediaUrl}
        alt={sketch.title}
        width={sketch.width}
        height={sketch.height}
        loading="lazy"
        decoding="async"
        onload="this.classList.add('loaded')"
      />
    </div>
    <div class="card-body">
      <h2 class="card-title">{sketch.title}</h2>
      <p class="card-description">{sketch.description}</p>
      <div class="tags">
        {sketch.tags.map((tag) => <span class="tag">{tag}</span>)}
        {sketch.tech.map((t) => <span class="tag tag--tech">{t}</span>)}
      </div>
    </div>
  </article>
</a>
